%%
% 下のコメント欄は卒論執筆時の森がイキって書いたものです。
% 修論執筆時の森が代わりに謝罪いたします。
% 温かい目で見守ってあげてください。
%
% また、修論執筆時にはTeXstudioで、またDockerを用いて執筆しています。
% 上記の手法は平木場くんから教えていただきました。
% 参考: https://qiita.com/Shitimi_613/items/9706d57fb7bc17cbed0e
%

%%
% モダンなLaTeXを書きたい？
% そしたら僕の考えた最強のtexファイルを見てくれ
%
% 注意！
% このLaTeXをPDFに変換するためには、普通とはちょっと違う方法を使うよ
% コマンド上では
%   $ ptex2pdf -u -l GraduatePaper.tex
% で変換してね
% もしptex2pdfコマンドが無かったら、
%   $ uplatex GraduatePaper.tex
%   $ dvipdfmx GraduatePaper.dvi
% でうまくいくかも（未確認）
%
% え、TeXworksで使いたいって？
% そしたら、TeXworksの編集メニュー -> 設定を開く
% タイプセットタブの下の方にあるタイプセットの方法の右下の＋ボタンを選択する
% 名前: uplatex(ptex2pdf)
% プログラム: ptex2pdf
% 引数: -l
%       -u
%       -ot
%       $synctexoption
%       $fullname
% として保存して、TeXworks実行ボタン右のコンボボックスのuplatex(ptex2pdf)を選択して変換だ！
%


%%
% 今時jarticleやjbook使ってる人いる？時代はjsarticleかjsbookだよ
% ついでに言うと、uplatexってのはplatexの上位互換、これを使わないなんて旧世代だよね
%
\documentclass[uplatex, report, a4j, 10pt, dvipdfmx]{jsbook}


%%
% パッケージ群
%
\usepackage{packages/miyazaki-u-paper}   % 宮崎大学工学部の卒論の基本（片山先生作）を、僕がちょっと書き換えちゃった（テヘッ
\usepackage{enumitem}           % enumerate？古い古い
\usepackage[dvipdfmx]{graphicx, color} % 当然dvipdfmなんて使ってないよね
% \usepackage[dvipdfmx]{color}    % listingsを使うときにはこれも必須、dvipdfmxを変えちゃうとgraphicxのdvipdfmxも変わるよ
\usepackage{listings, jvlisting} % コードを埋め込むなら必須、jvlistingは日本語対応
\usepackage{amsmath}            % 数式環境（align等）を使うために必須
\usepackage{txfonts}            % フォントといえばやっぱりtxfonts、今はnewtxってのもあるらしい（amsmathと競合するためコメントアウト）
\usepackage{multirow}           % 表で複数行をまとめるために必須
\usepackage{url}                % URLを表示するために必要
\usepackage{verbatim}           % コメントアウトしてくれる便利なプリアンブルが使える \begin{comment} ... \end{comment}
\usepackage[htt]{hyphenat}      % textttをハイフネーションしてくれる。
\usepackage[hdivide={21mm, , 21mm}, vdivide={30mm, , 25mm}]{geometry} % スタイルを少し変えたくても\hoffset, \voffsetは使わないでね
\usepackage[dvipdfmx, hidelinks, plainpages=false, pdfpagelabels, hypertexnames=false]{hyperref} % リンクを付けてくれる。
\usepackage{pxjahyper}          % リンクを付けてくれる（日本語）
\usepackage[nameinlink]{cleveref} % 図表の自動参照（\cref）
%\RequirePackage[l2tabu, orthodox]{nag} % これを入れると、古いコマンドを警告してくれる！なお完全には消せなかった模様
\usepackage{forest}
\usepackage{array}
\usepackage{makecell}
\usepackage{longtable}
\usepackage{tabularx}
\usepackage{booktabs} % プリアンブルに追加してください
\usepackage{adjustbox}




\setlist[itemize]{topsep=0pt, partopsep=0pt, parsep=0pt, itemsep=0pt}
\lstset{
  breaklines = true,%自動で折り返す
  basicstyle={\footnotesize\ttfamily},
  numberstyle={\scriptsize},
  stepnumber=1,
  numbersep=1zw,
  lineskip=-0.5ex,
  frame=single,
  numbers=left,%行番号を左に
  framexleftmargin=6mm,%行番号をフレーム内に
  xleftmargin=6mm,%左マージンをフレームに合わせる
  xrightmargin=0mm,%右マージン
  linewidth=\linewidth,%ページ幅に収める
  numberstyle=\scriptsize,%行番号のサイズ
  stepnumber=1%1行おきに行番号を
}


\lstdefinelanguage{VDM_PP}
  {morekeywords={\#act, \#active, \#fin, \#req, \#waiting, 
 RESULT, abs, all, always, and, async, atomic, be, be st, bool, by, card, cases, char, class, 
 comp, compose, conc, dcl, def, dinter, div, do, dom, dunion, elems, else, elseif, end, error, 
 errs, exists, exists1, exit, ext, false, floor, for, for all, forall, from, functions, hd, if, 
 in, in set, inds, inmap, instance, instance variables, int, inter, inv, inverse, iota, is, 
 is not yet specified, is subclass of, is subclass responsibility, isofbaseclass, isofclass, 
 lambda, len, let, map, measure, merge, mod, mu, munion, mutex, nat, nat1, new, nil, not, not in set, 
 of, operations, or, others, per, periodic, post, power, pre, private, protected, psubset, public, rat,
  rd, real, rem, responsibility, return, reverse, rng, samebaseclass, sameclass, self, seq, seq1, set,
   skip, specified, st, start, startlist, static, subclass, subset, sync, then, thread, threadid, tixe,
    tl, to, token, traces, trap, true, types, undefined, union, values, variables, while, with, wr, yet,mk\_ },
   sensitive,
   morecomment=[l]--,
   morestring=[b]",
   morestring=[b]',
  }[keywords,comments,strings]

\lstset{
  language={VDM_PP},
  frame=tlBR,
  framesep=5pt,
  framerule=.2pt,
  basicstyle={\small\ttfamily \color[gray]{.15}},
  identifierstyle={\ttfamily \color[cmyk]{1,0,0,0}},
  keywordstyle={\ttfamily},
  stringstyle={\small\ttfamily},
  commentstyle={\itshape \color[cmyk]{1,0,1,0}},
  numberstyle={\small},
  stepnumber=1,
  numbers=left,
  numbersep=1em,
  breaklines=true,
  escapeinside={(*@}{@*)},
  keepspaces=true,           % インデント維持（重要）
  columns=fullflexible,      % columns=[l]{...} より素直に
  lineskip=0sw,              % 負の行間はやめる（最重要）
  xleftmargin=2zw,           % 余白を確保（行番号と干渉させない）
  xrightmargin=1zw,          % 右も少し余白
  morecomment={[s][{\color[cmyk]{1,0,0,0}}]{/**}{*/}},
  floatplacement=t,
  classoffset=1,
  showstringspaces=false,
  captionpos=t
}


\newcommand{\vdmtag}[1]{\textless #1\textgreater}
\newcommand{\ctmrowh}{3cm}
\newcommand{\ctmfig}[2]{%
  \begin{minipage}[c][\ctmrowh][c]{\linewidth}
    \centering
    \adjustbox{valign=c}{\includegraphics[width=#1\linewidth]{#2}}
  \end{minipage}%
}
\newcommand{\ctmlabel}[1]{\raisebox{-2.4ex}{#1}}



%
% 図表の自動参照設定
%
% cleveref用の日本語名設定
\crefname{figure}{図}{図}
\crefname{table}{表}{表}
\crefname{equation}{式}{式}
\crefname{chapter}{}{}
\crefformat{chapter}{#2#1章#3}
\crefrangeformat{chapter}{#3#1章#4から#5#2章#6}
\crefname{section}{}{}
\crefformat{section}{#2#1節#3}
\crefrangeformat{section}{#3#1節#4から#5#2節#6}
\crefname{subsection}{}{}
\crefformat{subsection}{#2#1項#3}
\crefrangeformat{subsection}{#3#1項#4から#5#2項#6}
\crefname{enumi}{}{}
\crefname{enumii}{}{}
\crefname{enumiii}{}{}
\crefname{enumiv}{}{}
\creflabelformat{equation}{#2(#1)#3}

% autoref用の日本語名設定
\def\figureautorefname{図}
\def\tableautorefname{表}
\def\equationautorefname{式}
\def\chapterautorefname{}
\def\sectionautorefname{}
\def\subsectionautorefname{}

%
% マクロの定義
%
\newcommand{\tool}{2VSG}  % ツール名を設定
\newcommand{\toolFullName}{2VSG:2vdm\_spec\_generator}
\newcommand{\VDM}{VDM\texttt{++}}

\usepackage{languages}   % 言語設定ファイル

%%
% miyazaki-u-paper.sty用設定値
%
%%
% miyazaki-u-paper.sty用設定値
%
\degree{g} % Graduateのg or Masterのm
\figurenumbering{f} % 図目次を付ける場合はt (真) を持つ真偽値を引数に取る関数
\tablenumbering{f} % 表目次を付ける場合はt (真) を持つ真偽値を引数に取る関数
\title{画面遷移システムを対象とした\\VDM++仕様作成ツール\tool の\\GUI操作への拡張} % 論文タイトル
\studentNumber{60223292} % 学籍番号
\submitDate{2026年2月6日} % 提出日
\author{宮原 嵩尭} % 著者名
% \nendo{} % 年度（省略時は自動で令和年度を計算。手動で指定する場合はコメント解除して数字を入力）
\advisor{片山 徹郎 教授} % 修論では無視する
% \major{} % 専攻・プログラム名（省略時は学部/修士に応じて自動設定。手動で指定する場合はコメント解除）



\begin{document}
\maketitle

\preface{概要}



%%
% 本文
%
% はじめに
\input{chapters/01-introduction.tex}

% 研究の準備
\input{chapters/02-preparation.tex}

% 機能
\input{chapters/03-function.tex}

% 実装
\input{chapters/04-implementation.tex}

% 適用例
\input{chapters/05-indication.tex}

% 考察
\input{chapters/06-discussion.tex}

% おわりに
\input{chapters/07-conclusion.tex}

%%
% 謝辞
%
\input{chapters/08-acknowledgments.tex}


%%
% 参考文献
%
\bibliography{paper} %hoge.bibから拡張子を外した名前
\bibliographystyle{junsrt} %参考文献出力スタイル

%%
% 付録
%
% \appendix{} % 付録は基本的に使わない

\end{document}
